<loading-indicator [isVisible]="loading$ | async" class="overlay"></loading-indicator>
<div class="primary-section__body">
  <div class="product-area">
    <div class="primary-section-content">


      <div class="primary-section-content__body">
        <div class="product-area__main">
          <div *ngIf="(entries$| async).length > 0" style="transition-timing-function: cubic-bezier(0.1, 0.57, 0.1, 1); transition-duration: 0ms; transform: translate(0px, 0px) translateZ(0px);">
            <div *ngIf="(entries$| async).length > 0">

                <div class="row m-3" style="margin-right: 0.75rem; margin-bottom: 0.75rem;">
                  <mat-card *ngFor="let stock of (entries$| async)" class="col-sm-6 col-md-2 col-lg-2 col-xs-6 m-1 ellipsis"
                    matTooltip="{{stock.name}}"
                    [matTooltipPosition]="'left'"
                    aria-label="stock.name"   matRipple
                    [matRippleCentered]="centered"
                    [matRippleDisabled]="disabled"
                    [matRippleUnbounded]="unbounded"
                    [matRippleRadius]="radius"
                    [matRippleColor]="color" (click)="addItemToCart(stock)" [class.isactive]="selectedItem && selectedItem.id==stock.id">

                    <span class="ellipsis">{{stock.name}} </span>

                    <div *ngIf="stock.customer_price" class="text-info text-center ellipsis">
                      <h6>{{stock.customer_type.name}}</h6>
                      <span>{{currentUser.getBusiness('currency_code')}} {{stock.customer_price.sale_price_including_tax}}</span>
                      </div>

                    <div class="clearfix"></div>

                    <small class="row row-divided ellipsis">
                      <div class="text-left col-6 column-one">
                        <span class="ellipsis">
                            {{stock.available_stock_qty}} Qty
                        </span>
                      </div>
                      <div class="vertical-divider"></div>
                      <div class="text-right col-6 column-two">
                        <span class="ellipsis"> {{percentage(stock.available_stock_qty,stock.in_stock_qty)}} %</span>
                      </div>
                    </small>

                  </mat-card>
                </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

