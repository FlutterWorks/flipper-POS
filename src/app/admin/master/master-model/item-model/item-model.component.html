<div class="details-list">
   <!-- Items ---------------------------------- -->

   <form [formGroup]="itemForm" (ngSubmit)="saveItem()">
      <mat-card-content>
        <p>
          <mat-form-field class="ybx-mat mat-full-wdth">
            <input class="text-secondary" matInput placeholder="Item name" formControlName="item" required>
              <mat-error  *ngIf="item.invalid && (item.dirty || item.touched)">
                <mat-error *ngIf="item.errors.item && !item.errors.required">
                  Please enter a valid item name
                </mat-error>
                <mat-error *ngIf="item.errors.required">
                  Item name is <strong>required</strong>
                </mat-error>
              </mat-error>
          </mat-form-field>

          <mat-form-field class="ybx-mat mat-full-wdth">
            <input class="text-secondary" matInput placeholder="Item sku" formControlName="sku" required>
            <mat-error  *ngIf="sku.invalid && (sku.dirty || sku.touched)">
              <mat-error *ngIf="sku.errors.sku && !sku.errors.required">
                Please enter a valid sku
              </mat-error>
              <mat-error *ngIf="sku.errors.required">
                  Item sku is <strong>required</strong>
              </mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="ybx-mat mat-full-wdth">
            <input class="text-secondary" matInput placeholder="Purchase price" formControlName="price" required>
            <mat-error  *ngIf="price.invalid && (price.dirty || price.touched)">
              <mat-error *ngIf="price.invalid && !price.errors.required">
                Please enter a valid purchase price, only number allowed
              </mat-error>
              <mat-error *ngIf="price.errors.required">
                Purchase price is <strong>required</strong>
              </mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="ybx-mat mat-full-wdth">
            <input class="text-secondary" matInput placeholder="Sales price" formControlName="sale_price" required>
            <mat-error *ngIf="sale_price.invalid && (sale_price.dirty || sale_price.touched)">
              <mat-error *ngIf="sale_price.invalid && !sale_price.errors.required">
                Please enter a valid sales price, only number allowed
              </mat-error>
              <mat-error *ngIf="sale_price.errors.required">
                Sales price is <strong>required</strong>
              </mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="ybx-mat mat-full-wdth">
            <mat-select placeholder="Choose Currency" formControlName="currency" required>
              <mat-option>None</mat-option>
              <mat-option *ngFor="let currency of currencies" [value]="currency">{{currency}}</mat-option>
            </mat-select>
            <mat-error *ngIf="currency.invalid && (currency.dirty || currency.touched)">
              <strong *ngIf="currency.errors.required">Currency is required.</strong>
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-select placeholder="{{category_placeholder}}"  formControlName="category_id" required>
                <mat-option>None</mat-option>
              <mat-option *ngFor="let category of categories" [value]="category.category_id">
                {{category.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="category_id.invalid && (category_id.dirty || category_id.touched)">
              <strong *ngIf="category_id.errors.required">Category is required.</strong>
            </mat-error>
          </mat-form-field>
        </p>
      </mat-card-content>
      <mat-card-actions>
        <button type="submit" class="float-right" mat-button [disabled]="(loading | async)"> <span *ngIf="need_to_add_new">Save</span>
          <span *ngIf="!need_to_add_new">Edit</span></button>
        <button type="button" class="float-right" (click)='close()' [disabled]="(loading | async)" mat-button>Close</button>
      </mat-card-actions>
    </form>
</div>
