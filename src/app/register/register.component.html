<div class="ybx-signIn ybx-signUp mt-150">
  <span class="form-load" *ngIf="v.loading">
    <mat-progress-bar class="primary-progress-bar" mode="indeterminate"></mat-progress-bar>
  </span>
  <div class="inner-box">
    <div class="justify-content-center mr-auto text-center">
      <div class="h3 d-block p-2 w-100">Create your Account</div>
      <div class="d-block p-2 w-100"> to continue to {{appname}} </div>
      <div class="clearfix"></div>
    </div>

    <form class="ybx-defaultForm" [formGroup]="signupForm" (ngSubmit)="onAccountInfoSubmit()">
      <div class="row">
        <div class="col-12 col-sm-6">
          <mat-form-field class="ybx-mat mat-full-wdth">
            <input matInput type="text" placeholder="First name" formControlName="firstname" required>
            <button button *ngIf="firstname.value" matSuffix mat-icon-button aria-label="Clear" (click)="firstname.value=''">
              <mat-icon>close</mat-icon>
            </button>
            <mat-error *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)">
              <strong *ngIf="firstname.errors.required">First name is required.</strong>
            </mat-error>
          </mat-form-field>
          <div class="clearfix"></div>
        </div>
        <div class="col-12 col-sm-6">
          <mat-form-field class="ybx-mat mat-full-wdth">
            <input matInput type="text" placeholder="Last name" formControlName="lastname" required>
            <button button *ngIf="lastname.value" matSuffix mat-icon-button aria-label="Clear" (click)="lastname.value=''">
              <mat-icon>close</mat-icon>
            </button>
            <mat-error *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)">
              <strong *ngIf="lastname.errors.required">Last name is required.</strong>
            </mat-error>
          </mat-form-field>
          <div class="clearfix"></div>
        </div>

        <div class="col-12 col-sm-6">
          <mat-form-field class="ybx-mat mat-full-wdth">
            <input matInput type="text" placeholder="Phone (optional)" formControlName="phone">
          </mat-form-field>
          <div class="clearfix"></div>
        </div>

        <div class="col-12 col-sm-6">
          <mat-form-field class="ybx-mat mat-full-wdth">
            <mat-select placeholder="Gender" formControlName="gender" required>
              <mat-option>None</mat-option>
              <mat-option *ngFor="let g of v.gender_list" [value]="g">{{g}}</mat-option>
            </mat-select>
            <mat-error *ngIf="gender.invalid && (gender.dirty || gender.touched)">
              <strong *ngIf="gender.errors.required">Gender is required.</strong>
            </mat-error>
          </mat-form-field>
          <div class="clearfix"></div>
        </div>

        <div class="col-12">
          <mat-form-field class="ybx-mat mat-full-wdth">
            <mat-select placeholder="Country" formControlName="country" required>
              <mat-option *ngFor="let country of v.countries" [value]="country">{{country}}</mat-option>
              <mat-option>None</mat-option>
            </mat-select>
            <mat-error *ngIf="country.invalid && (country.dirty || country.touched)">
              <strong *ngIf="country.errors.required">Country is required.</strong>
            </mat-error>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field class="ybx-mat mat-full-wdth">
            <input matInput placeholder="Email" formControlName="email" required>
            <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
              <mat-error *ngIf="email.errors.email && !email.errors.required">
                Please enter a valid email address
              </mat-error>
              <mat-error *ngIf="email.errors.required">Email is <strong>required</strong></mat-error>
            </mat-error>
          </mat-form-field>
        </div>

        <div class="col-12 col-sm-6">
          <mat-form-field class="ybx-mat mat-full-wdth">
            <input matInput placeholder="Password" [type]="password_hide ? 'password' : 'text'" formControlName="password"
              required>
            <mat-icon matSuffix (click)="password_hide = !password_hide">{{password_hide ? 'visibility' :
              'visibility_off'}}</mat-icon>
            <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">
              <strong>Password is required.</strong>
            </mat-error>
          </mat-form-field>
          <div class="clearfix"></div>
        </div>

        <div class="col-12 col-sm-6">
          <mat-form-field class="ybx-mat mat-full-wdth">
            <input matInput placeholder="Confirm password" [type]="cfm_password_hide ? 'password' : 'text'"
              formControlName="confpassword" required>
            <mat-icon matSuffix (click)="cfm_password_hide = !cfm_password_hide">{{cfm_password_hide ? 'visibility' :
              'visibility_off'}}</mat-icon>
            <mat-error *ngIf="confpassword.invalid && (confpassword.dirty || confpassword.touched)">
              <strong>Confirm password is required.</strong>
            </mat-error>
          </mat-form-field>
          <div class="clearfix"></div>
        </div>
        <div class="col-12">
          <div *ngIf="v.error_errors.length > 0" class="pull-left">
            <div *ngFor="let err of v.error_errors">
              <mat-error *ngIf="err.email"><strong>{{err.email}}</strong></mat-error>
              <mat-error *ngIf="err.password"> <strong>{{err.password}}</strong></mat-error>
            </div>
          </div>

          <mat-error *ngIf="v.does_match_password" class="pull-left">
            <strong>Password does not match.</strong>
          </mat-error>
        </div>
      </div>

      <form class="ybx-mat">
        <div class="clearfix"></div>
        <div class="row">
          <div class="col-6 button-row">
            <a button class="button pl-0" routerLink="/sign-in">Sign in instead</a>
          </div>
          <div class="col-6 order-6">
            <button mat-raised-button class="mat-primary-btn float-right" *ngIf='!v.loading'>Next </button>
            <button mat-raised-button class="mat-primary-btn float-right" *ngIf='v.loading' disable='true'>sending ...
            </button>
          </div>
        </div>
      </form>
    </form>
  </div>
</div>