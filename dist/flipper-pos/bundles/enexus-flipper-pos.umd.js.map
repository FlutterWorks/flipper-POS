{"version":3,"file":"enexus-flipper-pos.umd.js","sources":["../../../projects/flipper-pos/src/lib/flipper-pos.service.ts","../../../projects/flipper-pos/src/lib/common/update-price-dialog/update-price-dialog.component.ts","../../../projects/flipper-pos/src/lib/common/add-cart-item-dialog/add-cart-item-dialog.component.ts","../../../projects/flipper-pos/src/lib/basic/flipper-basic-pos.component.ts","../../../projects/flipper-pos/src/lib/common/search-box/search-box.component.ts","../../../projects/flipper-pos/src/lib/common/autocomplete/autocomplete.component.ts","../../../projects/flipper-pos/src/lib/common/shopping-lists/shopping-lists.component.ts","../../../projects/flipper-pos/src/lib/common/basic-shopping-list/basic-shopping-list.component.ts","../../../projects/flipper-pos/src/lib/common/standard-shopping-list/standard-shopping-list.component.ts","../../../projects/flipper-pos/src/lib/common/calculator/calculator.component.ts","../../../node_modules/tslib/tslib.es6.js","../../../projects/flipper-pos/src/lib/constants.ts","../../../projects/flipper-pos/src/lib/flipper-pos.component.ts","../../../projects/flipper-pos/src/lib/flipper-pos.module.ts","../../../projects/flipper-pos/src/public-api.ts","../../../projects/flipper-pos/src/enexus-flipper-pos.ts"],"sourcesContent":["import { Injectable } from '@angular/core'\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class FlipperPosService {\r\n  constructor() {}\r\n}\r\n","import { Component, OnInit, HostListener, Inject } from '@angular/core'\r\n\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms'\r\nimport { NotificationService } from '@enexus/flipper-components'\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog'\r\n\r\n@Component({\r\n  selector: 'flipper-update-price-dialog',\r\n  templateUrl: './update-price-dialog.component.html',\r\n  styleUrls: ['./update-price-dialog.component.css'],\r\n})\r\nexport class UpdatePriceDialogComponent implements OnInit {\r\n  constructor(\r\n    public dialogRef: MatDialogRef<UpdatePriceDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public price: any,\r\n    private formBuilder: FormBuilder,\r\n    protected notificationSvc: NotificationService\r\n  ) {}\r\n\r\n  get formControl() {\r\n    return this.form.controls\r\n  }\r\n  submitted = false\r\n  form: FormGroup\r\n  isFocused = ''\r\n\r\n  @HostListener('document:keydown', ['$event']) onKeydownHandler(event: KeyboardEvent) {\r\n    if (event.key === 'Esc') {\r\n      this.dialogRef.close('close')\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.form = this.formBuilder.group({\r\n      price: [!this.price ? this.price : 0.0, Validators.required],\r\n    })\r\n  }\r\n  onSubmit() {\r\n    this.submitted = true\r\n\r\n    // stop here if form is invalid\r\n    if (this.form.invalid) {\r\n      this.notificationSvc.error(\r\n        'Add price',\r\n        'We need you to complete all of the required fields before we can continue'\r\n      )\r\n      return\r\n    } else {\r\n      this.dialogRef.close({ price: this.form.value.price })\r\n    }\r\n  }\r\n\r\n  focusing(value: any) {\r\n    this.isFocused = value\r\n    this.form.controls.price.setValue('')\r\n  }\r\n  focusingOut() {\r\n    this.isFocused = ''\r\n  }\r\n}\r\n","import { Component, OnInit, HostListener, Inject } from '@angular/core'\r\n\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\r\nimport { NotificationService, Taxes, SettingsService } from '@enexus/flipper-components'\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog'\r\n\r\n@Component({\r\n  selector: 'flipper-add-cart-item-dialog',\r\n  templateUrl: './add-cart-item-dialog.component.html',\r\n  styleUrls: ['./add-cart-item-dialog.component.css'],\r\n})\r\nexport class AddCartItemDialogComponent implements OnInit {\r\n  units: any[] = []\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<AddCartItemDialogComponent>,\r\n    private formBuilder: FormBuilder,\r\n    protected notificationSvc: NotificationService,\r\n    private setting: SettingsService,\r\n    @Inject(MAT_DIALOG_DATA) public taxes$: Taxes[]\r\n  ) {\r\n    this.units = this.setting.units()\r\n  }\r\n\r\n  get formControl() {\r\n    return this.form.controls\r\n  }\r\n  submitted = false\r\n  form: FormGroup\r\n  isFocused = ''\r\n\r\n  @HostListener('document:keydown', ['$event']) onKeydownHandler(event: KeyboardEvent) {\r\n    if (event.key === 'Esc') {\r\n      this.dialogRef.close('close')\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.form = this.formBuilder.group({\r\n      price: ['', Validators.required, Validators.min(0)],\r\n      name: 'Custom Amount',\r\n      quantity: [1, Validators.min(0)],\r\n      tax: null,\r\n      unit: '',\r\n    })\r\n  }\r\n\r\n  onSubmit() {\r\n    this.submitted = true\r\n\r\n    // stop here if form is invalid\r\n    if (this.form.invalid) {\r\n      this.notificationSvc.error(\r\n        'Add Cart item',\r\n        'We need you to complete all of the required fields before we can continue'\r\n      )\r\n      return\r\n    } else {\r\n      this.dialogRef.close({\r\n        price: this.form.value.price,\r\n        quantity: this.form.value.quantity && this.form.value.quantity > 0 ? this.form.value.quantity : 1,\r\n        variantName: this.form.value.name ? this.form.value.name : 'No prduct name',\r\n        productName: this.form.value.name ? this.form.value.name : '--',\r\n        taxName: this.form.value.tax ? this.form.value.tax.name : 0,\r\n        taxRate: this.form.value.tax ? this.form.value.tax.percentage : 0,\r\n        unit: this.form.value.unit,\r\n        canTrackingStock: false,\r\n        currentStock: 0,\r\n        sku: '00',\r\n      })\r\n    }\r\n  }\r\n\r\n  focusing(value: any) {\r\n    this.isFocused = value\r\n    // if (value === 'name') {\r\n    //   this.form.controls.name.setValue('')\r\n    // } else if (value === 'price') {\r\n    //   this.form.controls.price.setValue('')\r\n    // } else if (value === 'quantity') {\r\n    //   this.form.controls.quantity.setValue('')\r\n    // }\r\n  }\r\n  focusingOut() {\r\n    this.isFocused = ''\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Output,\r\n  EventEmitter,\r\n  Input,\r\n  ViewEncapsulation,\r\n  ChangeDetectionStrategy,\r\n  HostListener,\r\n} from '@angular/core'\r\nimport {\r\n  Order,\r\n  Variant,\r\n  CalculateTotalClassPipe,\r\n  MergeArryByIdPipe,\r\n  ArrayRemoveItemPipe,\r\n  OrderDetails,\r\n  Taxes,\r\n} from '@enexus/flipper-components'\r\nimport { BehaviorSubject } from 'rxjs'\r\nimport { DialogService, DialogSize } from '@enexus/flipper-dialog'\r\nimport { UpdatePriceDialogComponent } from '../common/update-price-dialog/update-price-dialog.component'\r\nimport { AddCartItemDialogComponent } from '../common/add-cart-item-dialog/add-cart-item-dialog.component'\r\n\r\n@Component({\r\n  selector: 'flipper-basic-pos',\r\n  templateUrl: './flipper-basic-pos.component.html',\r\n  styleUrls: ['./flipper-basic-pos.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [CalculateTotalClassPipe, MergeArryByIdPipe, ArrayRemoveItemPipe],\r\n})\r\nexport class FlipperBasicPosComponent {\r\n  @Output() updateQtyEmit = new EventEmitter<OrderDetails>()\r\n  @Output() searchEmitValue = new EventEmitter<string>()\r\n  @Output() addToCartEmit = new EventEmitter<{ variant: Variant; quantity: number; tax: string }>()\r\n  @Output() saveOrderUpdatedEmit = new EventEmitter<Order>()\r\n  @Output() updateOrderDetailsEmit = new EventEmitter<object>()\r\n  @Output() didCollectCashEmit = new EventEmitter<boolean>()\r\n\r\n  action = ''\r\n  orderItems$ = new BehaviorSubject<OrderDetails[]>([])\r\n\r\n  private canfoundVariant: Variant[] = []\r\n  private isCurrentOrder: Order = null\r\n  private userClosedModel = false\r\n  private setTaxes: Taxes[] = []\r\n  @Input() currency = 'RWF'\r\n\r\n  @Input('foundVariant')\r\n  set foundVariant(value: Variant[]) {\r\n    this.canfoundVariant = value\r\n  }\r\n  get foundVariant(): Variant[] {\r\n    return this.canfoundVariant\r\n  }\r\n  //taxes\r\n  @Input('taxes')\r\n  set taxes(value: Taxes[]) {\r\n    this.setTaxes = value\r\n  }\r\n  get taxes(): Taxes[] {\r\n    return this.setTaxes\r\n  }\r\n  @Input('currentOrder')\r\n  set currentOrder(order: Order) {\r\n    this.isCurrentOrder = order\r\n    this.cartFocused = order && order.orderItems.length > 0 ? order.orderItems[0] : null\r\n  }\r\n\r\n  get currentOrder(): Order {\r\n    return this.isCurrentOrder\r\n  }\r\n\r\n  private setCartFocused: OrderDetails = null\r\n\r\n  set cartFocused(cart: OrderDetails) {\r\n    this.setCartFocused = cart\r\n  }\r\n  get cartFocused(): OrderDetails {\r\n    return this.setCartFocused\r\n  }\r\n\r\n  // didCloseModel\r\n  set userDidCloseModel(m: boolean) {\r\n    this.userClosedModel = m\r\n  }\r\n  get userDidCloseModel(): boolean {\r\n    return this.userClosedModel\r\n  }\r\n\r\n  private didCollectCashCompleted: object = { isCompleted: false, collectedOrder: null }\r\n  // collectCashCompleted\r\n\r\n  @Input('collectCashCompleted')\r\n  set collectCashCompleted(inputed: object) {\r\n    this.didCollectCashCompleted = inputed\r\n  }\r\n  get collectCashCompleted(): object {\r\n    return this.didCollectCashCompleted\r\n  }\r\n\r\n  @HostListener('document:keydown', ['$event'])\r\n  onKeydownHandler(event: KeyboardEvent) {\r\n    // delete key\r\n    if (this.cartFocused) {\r\n      if (event.key === 'Delete') {\r\n        this.removeItem(this.cartFocused)\r\n      }\r\n      if (event.shiftKey && event.key === '+') {\r\n        // shift + (+)\r\n        this.updateQuantity(this.cartFocused, '+')\r\n      }\r\n\r\n      if (event.shiftKey && event.key === '-') {\r\n        // shift + (-)\r\n        this.updateQuantity(this.cartFocused, '-')\r\n      }\r\n    }\r\n    if (event.shiftKey && event.key === 'K') {\r\n      // shift + k\r\n      this.keyBoardShortCuts()\r\n    }\r\n    if (event.ctrlKey && event.key === 'N') {\r\n      // shift + k\r\n      this.addCartItem()\r\n    }\r\n  }\r\n\r\n  constructor(public dialog: DialogService, private totalPipe: CalculateTotalClassPipe) {}\r\n\r\n  keyBoardShortCuts() {\r\n    this.dialog.keyBoardShortCuts()\r\n  }\r\n\r\n  public searchPosProduct(event) {\r\n    if (event) {\r\n      this.searchEmitValue.emit(event)\r\n    }\r\n  }\r\n\r\n  addToCart(item, updateProduct = false) {\r\n    if (updateProduct) {\r\n      return this.dialog.open(UpdatePriceDialogComponent, DialogSize.SIZE_SM, item.price).subscribe(result => {\r\n        if (result !== 'close') {\r\n          if (result.price && result.price > 0) {\r\n            this.addToCartEmit.emit(result)\r\n          }\r\n        }\r\n      })\r\n    } else {\r\n      this.addToCartEmit.emit(item)\r\n    }\r\n  }\r\n  updatePrice(item: OrderDetails) {\r\n    return this.dialog.open(UpdatePriceDialogComponent, DialogSize.SIZE_SM, item.price).subscribe(result => {\r\n      if (result !== 'close') {\r\n        if (result.price && result.price > 0) {\r\n          item.price = result.price\r\n          item.subTotal = item.quantity * item.price\r\n          this.updateQty(item)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  addCartItem() {\r\n    return this.dialog.open(AddCartItemDialogComponent, DialogSize.SIZE_MD, this.taxes).subscribe(result => {\r\n      if (result !== 'close' || result.price > 0 || result.quantity > 0) {\r\n        this.addToCart(result)\r\n      }\r\n    })\r\n  }\r\n\r\n  updateQty(item: OrderDetails) {\r\n    this.updateOrderDetailsEmit.emit({ action: 'UPDATE', item })\r\n  }\r\n\r\n  removeItem(item: OrderDetails) {\r\n    this.updateOrderDetailsEmit.emit({ action: 'DELETE', item })\r\n  }\r\n\r\n  saveOrderUpdated(event?: Order) {\r\n    const order = event ? event : this.currentOrder\r\n    this.saveOrderUpdatedEmit.emit(order)\r\n  }\r\n\r\n  updateQuantity(item: OrderDetails, action = null) {\r\n    const lastQty = item.quantity\r\n    this.action = action\r\n    this.canSetCartFocused(item)\r\n    if (this.action === '-') {\r\n      item.quantity = item.quantity - 1\r\n      if (item.quantity <= 0) {\r\n        this.dialog\r\n          .message('Failure Message', 'Negative quantity is not allowed.', 'Failure', 'SIZE_SM')\r\n          .subscribe(() => {\r\n            item.quantity = lastQty\r\n          })\r\n        item.quantity = lastQty\r\n      }\r\n      item.subTotal = item.price * item.quantity\r\n      this.updateQty(item)\r\n    } else if (this.action === '+') {\r\n      item.quantity = item.quantity + 1\r\n      item.subTotal = item.price * item.quantity\r\n      this.updateQty(item)\r\n    }\r\n  }\r\n  canSetCartFocused(item) {\r\n    this.cartFocused = item\r\n  }\r\n  collectCash(event) {\r\n    this.didCollectCashEmit.emit(event)\r\n  }\r\n  closeModel(event) {\r\n    this.userDidCloseModel = event\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n  ElementRef,\r\n  Output,\r\n  EventEmitter,\r\n  ViewEncapsulation,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  AfterViewInit,\r\n  Input,\r\n  HostListener,\r\n} from '@angular/core'\r\nimport { FormControl } from '@angular/forms'\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators'\r\nimport { Variant } from '@enexus/flipper-components'\r\nimport { MatAutocompleteTrigger } from '@angular/material/autocomplete'\r\n\r\n@Component({\r\n  selector: 'flipper-search-box',\r\n  templateUrl: './search-box.component.html',\r\n  styleUrls: ['./search-box.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SearchBoxComponent implements OnInit, AfterViewInit {\r\n  constructor(private cd: ChangeDetectorRef) {}\r\n\r\n  @Input('foundVariant')\r\n  set foundVariant(value: Variant[]) {\r\n    this.canfoundVariant = value\r\n    this.loading = false\r\n    this.addToCartOnGotSingleItem(value)\r\n  }\r\n  get foundVariant(): Variant[] {\r\n    return this.canfoundVariant\r\n  }\r\n  private userClosedModel = false\r\n\r\n  @Input('didUserCloseModel')\r\n  set didUserCloseModel(bol: boolean) {\r\n    this.userClosedModel = bol\r\n\r\n    if (bol === true) {\r\n      this.clearSearchBox()\r\n    }\r\n  }\r\n  get didUserCloseModel(): boolean {\r\n    return this.userClosedModel\r\n  }\r\n\r\n  @Output() searchEmitValue = new EventEmitter<string>()\r\n  @Output() addToCartEmit = new EventEmitter<any>()\r\n\r\n  public searchControl: FormControl\r\n  private debounce = 1000\r\n  public loading = false\r\n  public event: KeyboardEvent\r\n  isSearching = false\r\n\r\n  @ViewChild('mySearchInput', {\r\n    static: false,\r\n  })\r\n  public searchInputElement: ElementRef\r\n  private canfoundVariant: Variant[] = []\r\n\r\n  @ViewChild('autoCompleteInput', { read: MatAutocompleteTrigger, static: false })\r\n  autoComplete: MatAutocompleteTrigger\r\n\r\n  @Input() currency = 'RWF'\r\n\r\n  @HostListener('document:keydown', ['$event'])\r\n  onKeydownHandler(event: KeyboardEvent) {\r\n    this.event = event\r\n    if ((this.event.shiftKey && this.event.key === 'F') || (this.event.shiftKey && this.event.key === 'S')) {\r\n      setTimeout(() => {\r\n        this.clearSearchBox()\r\n      }, 2)\r\n    }\r\n    if (this.event.key === 'Shift') {\r\n      setTimeout(() => {\r\n        this.searchInputElement.nativeElement.blur()\r\n        this.close()\r\n      }, 2)\r\n    }\r\n  }\r\n\r\n  close() {\r\n    this.autoComplete.closePanel()\r\n  }\r\n  timer = null\r\n  startSearching(event) {\r\n    if (event.target.value === '' || event.target.value === null) {\r\n      this.foundVariant = []\r\n      this.clearSearchBox()\r\n      return\r\n    }\r\n    clearTimeout(this.timer)\r\n    this.timer = setTimeout(() => {\r\n      this.foundVariant = []\r\n      this.searching(event.target.value)\r\n    }, 1000)\r\n  }\r\n\r\n  searching(query) {\r\n    this.loading = true\r\n    this.isSearching = true\r\n    this.searchEmitValue.emit(query)\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.searchControl = new FormControl('');\r\n    // this.searchControl.valueChanges\r\n    //   .pipe(debounceTime(this.debounce),\r\n    //         distinctUntilChanged()\r\n    //         )\r\n    //       .subscribe(query => {\r\n    //         if (query === '' || query === null) {\r\n    //           this.isSearching = false;\r\n    //           return;\r\n    //         }\r\n    //         this.loading = true;\r\n    //         this.isSearching = true;\r\n    //         this.searchEmitValue.emit(query);\r\n    //   });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    setTimeout(() => {\r\n      this.searchInputElement.nativeElement.focus()\r\n    })\r\n    this.cd.detectChanges()\r\n  }\r\n\r\n  addToCartOnGotSingleItem(variants: Variant[]) {\r\n    if (variants.length === 1) {\r\n      this.addToCart(variants[0])\r\n      this.clearSearchBox()\r\n    }\r\n  }\r\n\r\n  addToCart(variant: any) {\r\n    variant.quantity = 1\r\n    this.addToCartEmit.emit(variant)\r\n    this.clearSearchBox()\r\n  }\r\n  focusing() {\r\n    this.clearSearchBox()\r\n  }\r\n\r\n  clearSearchBox() {\r\n    if (this.searchInputElement !== undefined) {\r\n      this.searchInputElement.nativeElement.value = ''\r\n      this.searchInputElement.nativeElement.focus()\r\n      this.isSearching = false\r\n      this.close()\r\n    }\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'flipper-autocomplete',\r\n  templateUrl: './autocomplete.component.html',\r\n  styleUrls: ['./autocomplete.component.scss'],\r\n})\r\nexport class AutocompleteComponent {\r\n  private load: boolean\r\n  @Input('loading') set loading(value: boolean) {\r\n    this.load = value\r\n  }\r\n  get loading(): boolean {\r\n    return this.load\r\n  }\r\n}\r\n","import { Component } from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'flipper-shopping-lists',\r\n  templateUrl: './shopping-lists.component.html',\r\n  styleUrls: ['./shopping-lists.component.scss'],\r\n})\r\nexport class ShoppingListsComponent {}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ViewEncapsulation,\r\n  ChangeDetectionStrategy,\r\n  Output,\r\n  EventEmitter,\r\n  OnChanges,\r\n  SimpleChanges,\r\n} from '@angular/core'\r\nimport { OrderDetails } from '@enexus/flipper-components'\r\n\r\n@Component({\r\n  selector: 'flipper-basic-shopping-list',\r\n  templateUrl: './basic-shopping-list.component.html',\r\n  styleUrls: ['./basic-shopping-list.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class BasicShoppingListComponent implements OnChanges {\r\n  public loading = false\r\n  action = ''\r\n  private getOrderItems: OrderDetails[] = []\r\n  @Output() updateQtyEmit = new EventEmitter<OrderDetails>()\r\n  @Output() removeItemEmit = new EventEmitter<OrderDetails>()\r\n\r\n  @Input('orderItems') set orderItems(value: OrderDetails[]) {\r\n    this.getOrderItems = value\r\n  }\r\n  get orderItems(): OrderDetails[] {\r\n    return this.getOrderItems\r\n  }\r\n\r\n  updateQuantity(item: OrderDetails, action = null) {\r\n    const lastQty = item.quantity\r\n    this.action = action\r\n    if (this.action === '-') {\r\n      item.quantity = item.quantity - 1\r\n      if (item.quantity < 0) {\r\n        alert('Negative quantity is not allowed.')\r\n        item.quantity = lastQty\r\n      }\r\n    } else if (this.action === '+') {\r\n      item.quantity = item.quantity + 1\r\n    }\r\n    item.subTotal = item.price * item.quantity\r\n    this.updateQtyEmit.emit(item)\r\n  }\r\n\r\n  removeItem(item: OrderDetails) {\r\n    this.removeItemEmit.emit(item)\r\n  }\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    console.log(changes)\r\n  }\r\n}\r\n","import { Component, OnInit, ViewEncapsulation, ChangeDetectionStrategy } from '@angular/core'\r\n\r\n@Component({\r\n  selector: 'flipper-standard-shopping-list',\r\n  templateUrl: './standard-shopping-list.component.html',\r\n  styleUrls: ['./standard-shopping-list.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class StandardShoppingListComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","import { Component, Input, EventEmitter, Output, HostListener, ViewChild, ElementRef } from '@angular/core'\r\nimport { Order, CalculateTotalClassPipe, FindKeyPipe, OrderDetails, RoundNumberPipe } from '@enexus/flipper-components'\r\nimport { DialogService } from '@enexus/flipper-dialog'\r\n\r\n@Component({\r\n  selector: 'flipper-calculator',\r\n  templateUrl: './calculator.component.html',\r\n  styleUrls: ['./calculator.component.scss'],\r\n  providers: [CalculateTotalClassPipe, FindKeyPipe, RoundNumberPipe],\r\n})\r\nexport class CalculatorComponent {\r\n  // collectCash\r\n  @Input('currentOrder')\r\n  set currentOrder(order: Order) {\r\n    this.isCurrentOrder = order\r\n  }\r\n  get currentOrder(): Order {\r\n    return this.isCurrentOrder\r\n  }\r\n  // collectCashCompleted\r\n  @Input('collectCashCompleted')\r\n  set collectCashCompleted(inputed: object) {\r\n    this.didCollectCashCompleted = inputed\r\n    this.getCollectCashCompleted(inputed)\r\n  }\r\n  get collectCashCompleted(): object {\r\n    return this.didCollectCashCompleted\r\n  }\r\n  @Output() closeModelEmit = new EventEmitter<boolean>()\r\n\r\n  constructor(\r\n    private totalPipe: CalculateTotalClassPipe,\r\n    public dialog: DialogService,\r\n    private randPipe: RoundNumberPipe,\r\n    private findKeyPipe: FindKeyPipe\r\n  ) {}\r\n\r\n  currentNumber = '0'\r\n\r\n  isNegativeNumber = false\r\n\r\n  private isCurrentOrder: Order = null\r\n  @Output() saveOrderUpdatedEmit = new EventEmitter<Order>()\r\n  @Output() collectCashEmit = new EventEmitter<boolean>()\r\n\r\n  @Input() currency = 'RWF'\r\n\r\n  private didCollectCashCompleted: object = {\r\n    isCompleted: false as boolean,\r\n    collectedOrder: null as Order,\r\n  }\r\n  public isCalculatorNumOpen = false\r\n  public calculatorNums = []\r\n\r\n  @ViewChild('mySearchInput', {\r\n    static: false,\r\n  })\r\n  public searchInputElement: ElementRef = null\r\n\r\n  getCollectCashCompleted(inputed) {\r\n    if (inputed && inputed.isCompleted) {\r\n      const changeDue =\r\n        inputed.collectedOrder.customerChangeDue === 0 || inputed.collectedOrder.customerChangeDue === '0.00'\r\n          ? 'No'\r\n          : this.randPipe.transform(inputed.collectedOrder.customerChangeDue)\r\n      const cahsReceived = this.randPipe.transform(inputed.collectedOrder.cashReceived)\r\n      return this.dialog\r\n        .message('Success Message', changeDue + ' change out of ' + cahsReceived, 'Success', 'SIZE_MD')\r\n        .subscribe(() => {\r\n          this.isCalculatorNumOpen = false\r\n          this.closeModelEmit.emit(true)\r\n          console.log('cash collected successfully')\r\n        })\r\n    }\r\n  }\r\n  @HostListener('document:keydown', ['$event']) onKeydownHandler(event: KeyboardEvent) {\r\n    if (!this.currentOrder) {\r\n      return\r\n    }\r\n\r\n    if (\r\n      !(event.type === 'search' || event.type === 'number' || event.type === 'text') &&\r\n      (event.key === 'Enter' || event.key === 'End')\r\n    ) {\r\n      this.collectCash()\r\n    }\r\n\r\n    if (\r\n      (event.shiftKey && event.key === 'F') || // shift + s\r\n      (event.shiftKey && event.key === 'K') || // shift + k\r\n      (event.shiftKey && event.key === 'S')\r\n    ) {\r\n      // shift + f\r\n      this.isCalculatorNumOpen = false\r\n    }\r\n    // if not searching or not delete item on cart\r\n    // tslint:disable\r\n    /* tslint:disable */\r\n    if (!(event.target['type'] === 'search' || event.target['type'] === 'number' || event.target['type'] === 'text')) {\r\n      /* tslint:enable */\r\n      // tslint:enable\r\n\r\n      if (\r\n        !(\r\n          event.key === 'Delete' || // delete key\r\n          (event.shiftKey && event.key === '+') || // shift + (+)\r\n          (event.shiftKey && event.key === 'K') ||\r\n          (event.shiftKey && event.key === 'S') ||\r\n          (event.shiftKey && event.key === 'F') ||\r\n          (event.shiftKey && event.key === '-')\r\n        ) // shift + (-)\r\n      ) {\r\n        this.isCalculatorNumOpen = true\r\n\r\n        if (this.isCalculatorNumOpen) {\r\n          const re = /^[0-9.]+$/\r\n          const key = event.key\r\n          if (key.match(re)) {\r\n            this.calculatorNums.push(key)\r\n            const nums = this.calculatorNums.join('')\r\n            this.getNumberOnKeyPress(nums)\r\n          }\r\n          // clean calculator by press backspace\r\n          if (event.key === 'Backspace') {\r\n            this.calculatorNums.pop()\r\n            const nums = this.calculatorNums.join('')\r\n            this.getNumberOnKeyPress(nums)\r\n          }\r\n        }\r\n      } else {\r\n        this.isCalculatorNumOpen = false\r\n      }\r\n    } else {\r\n      if (event.key === 'Shift') {\r\n        this.isCalculatorNumOpen = !this.isCalculatorNumOpen\r\n      }\r\n    }\r\n  }\r\n\r\n  public clear() {\r\n    if (this.currentOrder) {\r\n      this.calculatorNums.pop()\r\n      const nums = this.calculatorNums.join('')\r\n      this.getNumberOnKeyPress(nums)\r\n    }\r\n  }\r\n\r\n  getDecimal() {\r\n    if (!this.currentNumber.includes('.')) {\r\n      this.currentNumber += '.'\r\n    }\r\n  }\r\n\r\n  public getNumberOnKeyPress(v: string) {\r\n    this.currentNumber = v ? v : '0'\r\n    this.makeTotal()\r\n  }\r\n\r\n  public getNumber(v: string) {\r\n    if (!this.currentOrder) {\r\n      return this.dialog.message('Failure Message', 'No current order created!', 'Failure', 'SIZE_SM').subscribe(() => {\r\n        this.isCalculatorNumOpen = false\r\n        this.closeModelEmit.emit(true)\r\n      })\r\n    }\r\n    this.isCalculatorNumOpen = true\r\n    this.calculatorNums.push(v)\r\n    const nums = this.calculatorNums.join('')\r\n    this.getNumberOnKeyPress(nums)\r\n  }\r\n\r\n  public makeTotal() {\r\n    if (this.currentOrder) {\r\n      if (this.currentOrder.subTotal <= 0) {\r\n        this.isCalculatorNumOpen = false\r\n        this.calculatorNums.pop()\r\n        return this.dialog\r\n          .message('Failure Message', 'No shopping list could found!', 'Failure', 'SIZE_SM')\r\n          .subscribe(() => {\r\n            this.isCalculatorNumOpen = false\r\n            this.closeModelEmit.emit(true)\r\n          })\r\n      } else {\r\n        this.currentOrder.saleTotal = this.currentOrder.subTotal + this.currentOrder.taxAmount\r\n        this.currentOrder.cashReceived = this.currentNumber\r\n\r\n        this.currentOrder.cashReceived = this.currentOrder.cashReceived\r\n          ? this.currentOrder.cashReceived\r\n          : this.currentOrder.saleTotal\r\n\r\n        this.currentOrder.customerChangeDue =\r\n          this.currentOrder.cashReceived > 0 ? this.currentOrder.cashReceived - this.currentOrder.saleTotal : 0.0\r\n\r\n        this.saveOrderUpdatedEmit.emit(this.currentOrder)\r\n      }\r\n    }\r\n  }\r\n\r\n  onKeyFocused(key) {\r\n    if (!this.currentOrder) {\r\n      return\r\n    }\r\n    return this.findKeyPipe.transform(this.calculatorNums, key)\r\n  }\r\n\r\n  collectCash() {\r\n    if (!this.currentOrder) {\r\n      return this.dialog.message('Failure Message', 'No current order created!', 'Failure', 'SIZE_SM')\r\n    }\r\n    this.currentOrder.orderItems.forEach(item => {\r\n      if (item.quantity <= 0) {\r\n        this.dialog\r\n          .message('Failure Message', 'Negative quantity is not allowed.', 'Failure', 'SIZE_SM')\r\n          .subscribe(() => {})\r\n      }\r\n    })\r\n    this.collectCashEmit.emit(false)\r\n    if (this.currentOrder.subTotal <= 0) {\r\n      return this.dialog\r\n        .message('Failure Message', 'Total to be paid is equal to zero.', 'Failure', 'SIZE_SM')\r\n        .subscribe(() => {\r\n          this.isCalculatorNumOpen = false\r\n          this.closeModelEmit.emit(true)\r\n        })\r\n    }\r\n    if (this.currentOrder.customerChangeDue < 0) {\r\n      return this.dialog.message('Failure Message', \"Cash received can't less than 0!\", 'Failure', 'SIZE_SM')\r\n    }\r\n\r\n    if (this.currentOrder.customerChangeDue === 0) {\r\n      this.currentOrder.cashReceived = parseFloat(this.currentOrder.saleTotal)\r\n      this.currentOrder.customerChangeDue =\r\n        parseFloat(this.currentOrder.cashReceived) - parseFloat(this.currentOrder.saleTotal)\r\n    }\r\n    this.currentOrder.cashReceived = parseFloat(this.currentOrder.cashReceived)\r\n    this.currentOrder.active = false\r\n\r\n    this.saveOrderUpdatedEmit.emit(this.currentOrder)\r\n    this.collectCashEmit.emit(true)\r\n    this.isCalculatorNumOpen = false\r\n    this.calculatorNums = []\r\n  }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export const flipperUrl = 'http://localhost:8082'\r\n","import { transition, trigger, useAnimation } from '@angular/animations'\r\nimport { HttpClient } from '@angular/common/http'\r\nimport { Component, OnInit } from '@angular/core'\r\nimport {\r\n  CalculateTotalClassPipe,\r\n  Order,\r\n  STATUS,\r\n  ORDERTYPE,\r\n  Branch,\r\n  Stock,\r\n  Product,\r\n  OrderDetails,\r\n  StockHistory,\r\n  Business,\r\n  Taxes,\r\n  PouchDBService,\r\n  PouchConfig,\r\n  Variant,\r\n  fadeInAnimation,\r\n} from '@enexus/flipper-components'\r\n\r\nimport { ProductService, StockService, VariationService } from '@enexus/flipper-inventory'\r\nimport { flipperUrl } from './constants'\r\n\r\n@Component({\r\n  selector: 'lib-flipper-pos',\r\n  templateUrl: './flipper.pos.component.html',\r\n  styleUrls: ['./flipper.pos.component.css'],\r\n  animations: [\r\n    trigger('insertPos', [transition(':enter', useAnimation(fadeInAnimation, { params: { duration: '1s' } }))]),\r\n  ],\r\n})\r\nexport class FlipperPosComponent implements OnInit {\r\n  get theVariantFiltered(): Variant[] {\r\n    return this.seTheVariantFiltered\r\n  }\r\n\r\n  set theVariantFiltered(value: Variant[]) {\r\n    this.seTheVariantFiltered = value\r\n  }\r\n\r\n  get currentOrder(): Order {\r\n    return this.setCurrentOrder\r\n  }\r\n\r\n  set currentOrder(value: Order) {\r\n    this.setCurrentOrder = value\r\n  }\r\n\r\n  get stockVariant(): any[] {\r\n    return this.setStockVariant\r\n  }\r\n\r\n  set stockVariant(value: any[]) {\r\n    this.setStockVariant = value\r\n  }\r\n\r\n  get taxes(): Taxes[] {\r\n    return this.setTaxes\r\n  }\r\n\r\n  set taxes(value: Taxes[]) {\r\n    this.setTaxes = value\r\n  }\r\n\r\n  public branch: Branch | null\r\n  public defaultBusiness$: Business = null\r\n  public defaultBranch: Branch = null\r\n  public defaultTax$: Taxes = null\r\n  public orderDetails: OrderDetails[] = []\r\n\r\n  public currency = null\r\n  constructor(\r\n    private database: PouchDBService,\r\n    private stock: StockService,\r\n    private http: HttpClient,\r\n    public variant: VariationService,\r\n    public product: ProductService,\r\n    private totalPipe: CalculateTotalClassPipe\r\n  ) {\r\n    this.database.connect(PouchConfig.bucket, localStorage.getItem('channel'))\r\n\r\n    this.database.sync([PouchConfig.syncUrl])\r\n  }\r\n\r\n  public variants: Variant[] = []\r\n  private seTheVariantFiltered: Variant[] = []\r\n  public collectCashCompleted: object = {}\r\n\r\n  private setCurrentOrder: Order\r\n  private setStockVariant: any[]\r\n  private setTaxes: Taxes[]\r\n\r\n  date = new Date().toISOString()\r\n\r\n  async ngOnInit() {\r\n    await this.getTaxes()\r\n    await this.currentBusiness()\r\n    await this.currentBranches()\r\n    await this.newOrder()\r\n    await this.hasDraftOrder()\r\n\r\n    await this.stockVariants()\r\n    this.currentOrder.orderItems =\r\n      (await this.currentOrder) && this.currentOrder.orderItems && this.currentOrder.orderItems.length > 0\r\n        ? this.currentOrder.orderItems\r\n        : []\r\n    this.updateOrder([])\r\n\r\n    this.currency = this.defaultBusiness$ ? this.defaultBusiness$.currency : 'RWF'\r\n  }\r\n\r\n  public async currentBusiness() {\r\n    await this.http\r\n      .get<Business>(flipperUrl + '/api/business')\r\n      .toPromise()\r\n      .then(business => {\r\n        this.defaultBusiness$ = business\r\n      })\r\n  }\r\n\r\n  public async getTaxes() {\r\n    await this.http\r\n      .get<Taxes[]>(flipperUrl + '/api/taxes')\r\n      .toPromise()\r\n      .then(taxes => {\r\n        this.taxes = taxes\r\n      })\r\n  }\r\n  async currentBranches() {\r\n    await this.http\r\n      .get<[Branch]>(flipperUrl + '/api/branches/' + this.defaultBusiness$.id)\r\n      .toPromise()\r\n      .then(branches => {\r\n        for (let branch of branches) {\r\n          if (branch.active) {\r\n            this.defaultBranch = branch\r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  makeid(length: number) {\r\n    let result = ''\r\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    const charactersLength = characters.length\r\n    for (let i = 0; i < length; i++) {\r\n      result += characters.charAt(Math.floor(Math.random() * charactersLength))\r\n    }\r\n    return result\r\n  }\r\n\r\n  generateCode(): string {\r\n    return this.makeid(5)\r\n  }\r\n\r\n  public async newOrder() {\r\n    if (!this.currentOrder) {\r\n      const formOrder = {\r\n        reference: 'SO' + this.generateCode(),\r\n        orderNumber: 'SO' + this.generateCode(),\r\n        branchId: this.defaultBranch.id,\r\n        status: STATUS.OPEN,\r\n        orderType: ORDERTYPE.SALES,\r\n        active: true,\r\n        orderItems: [],\r\n        subTotal: 0.0,\r\n        draft: true,\r\n        cashReceived: 0.0,\r\n        customerChangeDue: 0.0,\r\n        table: 'orders',\r\n        channels: [this.defaultBusiness$.userId],\r\n        createdAt: this.date,\r\n        updatedAt: this.date,\r\n      }\r\n\r\n      // create a draft order to be used.\r\n      await this.http\r\n        .post(flipperUrl + '/api/order', formOrder)\r\n        .toPromise()\r\n        .then(order => {\r\n          this.currentOrder = order as Order\r\n        })\r\n    }\r\n  }\r\n\r\n  async hasDraftOrder() {\r\n    await this.draftOrder(this.defaultBranch)\r\n  }\r\n  public async draftOrder(branchId) {\r\n    await this.http\r\n      .post(flipperUrl + '/api/order', {})\r\n      .toPromise()\r\n      .then(async res => {\r\n        this.currentOrder = res as Order\r\n        this.currentOrder.orderItems =\r\n          (await this.currentOrder) && this.currentOrder.orderItems && this.currentOrder.orderItems.length > 0\r\n            ? this.currentOrder.orderItems\r\n            : []\r\n      })\r\n  }\r\n\r\n  public async stockVariants() {\r\n    await this.http\r\n      .get<[any]>(flipperUrl + '/api/stock-variant')\r\n      .toPromise()\r\n      .then(orders => {\r\n        if (orders.length > 0) {\r\n          this.stockVariant = orders\r\n        } else {\r\n          this.stockVariant = []\r\n        }\r\n      })\r\n  }\r\n\r\n  public loadVariants(param = null) {\r\n    let variantsArray: any[] = []\r\n\r\n    if (this.stockVariant.length > 0) {\r\n      this.stockVariant.forEach(variant => {\r\n        const form = {\r\n          id: variant.id,\r\n          variantId: variant.variantId,\r\n          price: variant.retailPrice,\r\n          sku: variant.sku ? variant.sku : '00',\r\n          variantName: variant.variantName ? variant.variantName : 'no item',\r\n          productName: variant.productName ? variant.productName : 'no item',\r\n          taxName: variant.taxName,\r\n          taxRate: variant.taxPercentage,\r\n          unit: variant.unit,\r\n          currentStock: variant.currentStock,\r\n          canTrackingStock: variant.canTrackingStock,\r\n          lowStock: variant.lowStock,\r\n          branchId: variant.branchId,\r\n        }\r\n        if (form.currentStock > 0) {\r\n          // Todo: niba stock irimo koko this should be true if(form.canTrackingStock && form.currentStock > 0){\r\n          variantsArray.push(form)\r\n        }\r\n      })\r\n    }\r\n    return variantsArray\r\n  }\r\n\r\n  public iWantToSearchVariant(event) {\r\n    if (event && event != undefined && event != null) {\r\n      let results = this.loadVariants(event)\r\n      console.log(this.loadVariants(event))\r\n      if (results.length > 0) {\r\n        this.theVariantFiltered = this.filterByValue(results, event)\r\n      }\r\n    }\r\n  }\r\n\r\n  filterByValue(arrayOfObject: any[], term: any) {\r\n    const query = term.toString().toLowerCase()\r\n    return arrayOfObject.filter((v, i) => {\r\n      if (\r\n        v.variantName.toString().toLowerCase().indexOf(query) >= 0 ||\r\n        v.sku?.toString().toLowerCase().includes(query) >= 0 ||\r\n        v.retailPrice?.toString().toLowerCase().includes(query) >= 0 ||\r\n        v.unit?.toString().toLowerCase().includes(query) >= 0 ||\r\n        v.unit?.toString().toLowerCase().includes(query) >= 0 ||\r\n        v.productName?.toString().toLowerCase().indexOf(query) >= 0\r\n      ) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    })\r\n  }\r\n\r\n  async updateOrderDetails(details: { action: string; item: OrderDetails }) {\r\n    if (details.action === 'DELETE') {\r\n      this.currentOrder.orderItems = this.currentOrder.orderItems.filter(el => {\r\n        return el.id != details.item.id\r\n      })\r\n    }\r\n\r\n    if (details.action === 'UPDATE') {\r\n      details.item.price = parseFloat(details.item.price)\r\n\r\n      const taxRate = details.item.taxRate ? details.item.taxRate : 0\r\n      const subTotal = details.item.price * details.item.quantity\r\n\r\n      details.item.taxAmount = (subTotal * taxRate) / 100\r\n      details.item.subTotal = subTotal\r\n\r\n      this.currentOrder.orderItems = this.currentOrder.orderItems.filter(el => {\r\n        return el.id != details.item.id\r\n      })\r\n\r\n      this.currentOrder.orderItems.push(details.item)\r\n    }\r\n    const orderDetails: OrderDetails[] = this.currentOrder.orderItems\r\n\r\n    this.updateOrder(orderDetails)\r\n  }\r\n\r\n  public async updateOrder(orderDetail) {\r\n    let orderDetails = []\r\n    if (orderDetail.length == 0) {\r\n      orderDetails = this.currentOrder.orderItems.filter(order => order.orderId == this.currentOrder.id)\r\n    } else {\r\n      orderDetails = orderDetail\r\n    }\r\n    if (orderDetails.length > 0) {\r\n      const subtotal = parseFloat(this.totalPipe.transform<OrderDetails>(orderDetails, 'subTotal'))\r\n      const taxAmount = parseFloat(this.totalPipe.transform<OrderDetails>(orderDetails, 'taxAmount'))\r\n\r\n      this.currentOrder.subTotal = subtotal\r\n\r\n      this.currentOrder.taxAmount = taxAmount\r\n      this.currentOrder.saleTotal = subtotal + taxAmount\r\n\r\n      this.currentOrder.customerChangeDue =\r\n        this.currentOrder.cashReceived > 0\r\n          ? parseFloat(this.currentOrder.cashReceived) - this.currentOrder.saleTotal\r\n          : 0.0\r\n      this.currentOrder.customerChangeDue = parseFloat(this.currentOrder.customerChangeDue)\r\n\r\n      this.currentOrder = this.currentOrder\r\n    }\r\n  }\r\n\r\n  public async addToCart(event: OrderDetails) {\r\n    event.id = this.database.uid()\r\n    event.orderId = this.currentOrder.id\r\n\r\n    const taxRate = event.taxRate ? event.taxRate : 0\r\n    const subTotal = event.price * event.quantity\r\n\r\n    event.taxAmount = (subTotal * taxRate) / 100\r\n    event.subTotal = subTotal\r\n\r\n    this.currentOrder.orderItems.push(event)\r\n    const orderDetails: OrderDetails[] = this.currentOrder.orderItems\r\n    if (orderDetails.length > 0) {\r\n      await this.updateOrder(orderDetails)\r\n    }\r\n  }\r\n\r\n  async didCollectCash(event) {\r\n    this.collectCashCompleted = { isCompleted: false, collectedOrder: this.currentOrder }\r\n    if (event === true) {\r\n      await this.createStockHistory()\r\n      this.currentOrder.isDraft = false\r\n      this.currentOrder.status = STATUS.COMPLETE\r\n      this.currentOrder.createdAt = new Date().toISOString()\r\n      this.currentOrder.updatedAt = new Date().toISOString()\r\n      this.currentOrder.active = false\r\n      this.currentOrder['draft'] = false\r\n      this.currentOrder['orderItems']\r\n      await this.http\r\n        .put(flipperUrl + '/api/order/' + this.currentOrder.id, this.currentOrder)\r\n        .toPromise()\r\n        .then(async order => {\r\n          this.collectCashCompleted =  { isCompleted: true, collectedOrder: order }\r\n          this.currentOrder = null\r\n          await this.newOrder()\r\n          await this.hasDraftOrder()\r\n        })\r\n    }\r\n  }\r\n\r\n  async createStockHistory() {\r\n    const odetails = this.currentOrder.orderItems as any[]\r\n    if (odetails.length) {\r\n      odetails.forEach(async details => {\r\n        if (details.currentStock > 0) {\r\n          const stockHistories: StockHistory = {\r\n            id: this.database.uid(),\r\n            orderId: details.orderId,\r\n            variantId: details.variantId,\r\n            variantName: details.variantName,\r\n            stockId: details.id,\r\n            reason: 'Sold',\r\n            quantity: details.quantity,\r\n            isDraft: false,\r\n            note: 'Customer sales',\r\n            table: 'stockHistories',\r\n            createdAt: new Date().toISOString(),\r\n            updatedAt: new Date().toISOString(),\r\n            channels: [this.defaultBusiness$.userId],\r\n          }\r\n          await this.http\r\n            .post<StockHistory>(flipperUrl + '/api/stock-histories', stockHistories)\r\n            .toPromise()\r\n            .then()\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveOrderUpdated(event: any) {\r\n    await this.updateOrder([])\r\n  }\r\n}\r\n","import { FlipperComponentsModule } from '@enexus/flipper-components'\r\nimport { NgModule } from '@angular/core'\r\nimport { FlipperBasicPosComponent } from './basic/flipper-basic-pos.component'\r\nimport { VendorsModule } from '@enexus/flipper-vendors'\r\nimport { SearchBoxComponent } from './common/search-box/search-box.component'\r\nimport { AutocompleteComponent } from './common/autocomplete/autocomplete.component'\r\nimport { ShoppingListsComponent } from './common/shopping-lists/shopping-lists.component'\r\nimport { BasicShoppingListComponent } from './common/basic-shopping-list/basic-shopping-list.component'\r\nimport { StandardShoppingListComponent } from './common/standard-shopping-list/standard-shopping-list.component'\r\nimport { CalculatorComponent } from './common/calculator/calculator.component'\r\nimport { DialogModule } from '@enexus/flipper-dialog'\r\nimport { CommonModule } from '@angular/common'\r\nimport { UpdatePriceDialogComponent } from './common/update-price-dialog/update-price-dialog.component'\r\nimport { AddCartItemDialogComponent } from './common/add-cart-item-dialog/add-cart-item-dialog.component'\r\nimport { FlipperPosComponent } from './flipper-pos.component'\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\r\nimport { BrowserModule } from '@angular/platform-browser'\r\nimport { HttpClientModule } from '@angular/common/http'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FlipperBasicPosComponent,\r\n    SearchBoxComponent,\r\n    AutocompleteComponent,\r\n    ShoppingListsComponent,\r\n    BasicShoppingListComponent,\r\n    StandardShoppingListComponent,\r\n    CalculatorComponent,\r\n    UpdatePriceDialogComponent,\r\n    AddCartItemDialogComponent,\r\n    FlipperPosComponent,\r\n  ],\r\n\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    FlipperComponentsModule,\r\n    BrowserAnimationsModule,\r\n    BrowserModule,\r\n    VendorsModule,\r\n    DialogModule,\r\n  ],\r\n  entryComponents: [UpdatePriceDialogComponent, AddCartItemDialogComponent],\r\n\r\n  exports: [\r\n    FlipperBasicPosComponent,\r\n    SearchBoxComponent,\r\n    AutocompleteComponent,\r\n    ShoppingListsComponent,\r\n    BasicShoppingListComponent,\r\n    StandardShoppingListComponent,\r\n    CalculatorComponent,\r\n    FlipperPosComponent,\r\n  ],\r\n})\r\nexport class FlipperPosModule {}\r\n","/*\r\n * Public API Surface of flipper-pos\r\n */\r\n\r\nexport * from './lib/flipper-pos.service'\r\nexport * from './lib/basic/flipper-basic-pos.component'\r\nexport * from './lib/flipper-pos.module'\r\nexport * from './lib/common/standard-shopping-list/standard-shopping-list.component'\r\nexport * from './lib/common/autocomplete/autocomplete.component'\r\nexport * from './lib/common/shopping-lists/shopping-lists.component'\r\nexport * from './lib/common/basic-shopping-list/basic-shopping-list.component'\r\nexport * from './lib/common/calculator/calculator.component'\r\nexport * from './lib/common/search-box/search-box.component'\r\nexport * from './lib/flipper-pos.component'\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {AddCartItemDialogComponent as ɵb} from './lib/common/add-cart-item-dialog/add-cart-item-dialog.component';\nexport {UpdatePriceDialogComponent as ɵa} from './lib/common/update-price-dialog/update-price-dialog.component';"],"names":["Injectable","Validators","Component","MatDialogRef","Inject","MAT_DIALOG_DATA","FormBuilder","NotificationService","HostListener","SettingsService","EventEmitter","BehaviorSubject","DialogSize","ViewEncapsulation","ChangeDetectionStrategy","CalculateTotalClassPipe","MergeArryByIdPipe","ArrayRemoveItemPipe","DialogService","Output","Input","ChangeDetectorRef","ViewChild","MatAutocompleteTrigger","FindKeyPipe","RoundNumberPipe","PouchConfig","STATUS","ORDERTYPE","trigger","transition","useAnimation","fadeInAnimation","PouchDBService","StockService","HttpClient","VariationService","ProductService","NgModule","CommonModule","HttpClientModule","FlipperComponentsModule","BrowserAnimationsModule","BrowserModule","VendorsModule","DialogModule"],"mappings":"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"}